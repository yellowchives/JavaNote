## 为什么使用分布式文件系统

1. 海量文件数据存储 
2. 文件数据高可用(冗余备份) 
3. 读写性能和负载均衡

## FastDFS

1. FastDFS是一个开源的轻量级分布式文件系统，它对文件进行管理，功能包括：文件存储、文件同步、文件访问（文件上传、文件下载 了大容量存储和负载均衡的问题。特别适合以文件为载体的在线服务，如相册网站、视频网站等等。 
2. FastDFS为互联网量身定制，充分考虑了冗余备份、负载均衡、线性扩容等机制，并注重高可用、高性能等指标，使用FastDFS很容易搭建一套高性能的文件服务器集群提供文件上传、下载等服务。 
3. FastDFS服务端有两个角色：跟踪器（tracker）和存储节点（storage）。
4. 跟踪器主要做调度工作，在访问上起负载均衡的作用。 
5. 存储节点存储文件，完成文件管理的所有功能：就是这样的存储、同步和提供存取接口，FastDFS同时对文件的meta data进行管理。meta data就是文件的相关属性，以键值对（key value）方式表示，如：width=1024。文件meta data 列表，可以包含多个键值对。 
6. 跟踪器和存储节点都可以由一台或多台服务器构成。跟踪器和存储节点中的服务器均可以随时增加或下线而不会影响线上服务。其中跟踪器中所有服务器都是对等的，可以根据服务器的压力情况随时增加或减少。 
7. 为了支持大容量，存储节点（服务器）采用了分卷（或分组）的组织方式。存储系统由一个或多个卷组成，卷与卷之间的文件是相互独立的，所有卷的文件容量累加就是整个存储系统中的文件容量。一个卷可以由一台或多台存储服务器组成，一个卷下的存储服务器中的文件都是相同的，卷中的多台存储服务器起到了冗余备份和负载均衡的作用。 
8. 在卷中增加服务器时，同步已有的文件由系统自动完成，同步完成后，系统自动将新增服务器切换到线上提供服务。 
9. 当存储空间不足或即将耗尽时，可以动态添加卷。只需要增加一台或多台服务器，并将它们配置为一个新的卷，这样就扩大了存储系统的容量。
10.  FastDFS中的文件标识分为两个部分：卷名和文件名，二者缺一不可。

## HDFS

说到分布式文件存储，肯定会有人想到HDFS，他们两者主要定位和应用场景是不一样的。 

1. Hadoop中的文件系统HDFS主要解决并行计算中分布式存储数据的问题。其单个数据文件通常很大，采用了分块（切分）存储的方式 数据大文件存储来使用的场景。 
2. FastDFS主要用于互联网网站，为文件上传和下载提供在线服务。所以在负载均衡、动态扩容等方面都支持得比较好。FastDFS用于存储中小文件都是不错的，比如用户头像啊，一些较小的音视频文件啊等等都行。

## 阿里云 OSS

现在 FastDFS 用的人不多了，大多数都使用云了。

阿里云 OSS 可以自动对上传的图片、视频、文件进行处理，这点是 FastDFS 无法实现的。同时运维成本低、SDK 使用简单。

